(this["webpackJsonpfile-share"]=this["webpackJsonpfile-share"]||[]).push([[0],{57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),c=a.n(n),i=a(28),r=a.n(i),l=a(10),o=a(3),j=a(14),d=a(9),b=a(31),u=a(12),h=a.n(u),f=a(13),m=a.n(f),p=a.p+"static/media/logo.a6803a72.png",O=(a(57),"https://rajat-easyshare.herokuapp.com"),x="";var g=function(){var e=Object(n.useRef)(null),t=Object(n.useRef)(null),a=Object(n.useRef)(null),c=Object(n.useRef)(null),i=Object(n.useRef)(null),r=Object(n.useRef)(null),l=Object(n.useRef)(!0),o=Object(n.useState)(""),u=Object(d.a)(o,2),f=u[0],g=u[1],y=Object(n.useState)({}),v=Object(d.a)(y,2),N=v[0],w=v[1],k=Object(n.useState)(""),S=Object(d.a)(k,2),P=S[0],T=S[1],L=Object(n.useState)(!1),_=Object(d.a)(L,2),D=_[0],F=_[1],R=Object(n.useState)({}),C=Object(d.a)(R,2),E=C[0],B=C[1],I=Object(n.useState)(0),A=Object(d.a)(I,2),M=A[0],H=A[1],J=Object(n.useState)(!1),q=Object(d.a)(J,2),G=q[0],U=q[1],W=Object(n.useState)(!1),z=Object(d.a)(W,2),Y=z[0],$=z[1];Object(n.useEffect)((function(){r.current.style.opacity="1"}),[]),Object(n.useEffect)((function(){M<100&&G?window.setTimeout((function(){H(M+2)}),100):E.file&&M>=99?window.setTimeout((function(){U(!1),H(0),$(!0),window.setTimeout((function(){a.current.style.opacity="1"}),100)}),1e3):0===M||E.file||H(99)}),[M,G,E]),Object(n.useEffect)((function(){l.current?l.current=!1:(D&&P&&(c.current.style.opacity="1"),!D&&N.name?e.current.style.minHeight="50vh":D&&N.name&&(e.current.style.minHeight="25vh"),e.current.style.border="2px dashed #08a1c4",e.current.style.background="",e.current.style.color="")}),[D,P,N]),Object(n.useEffect)((function(){N.name&&(g(""),t.current&&(t.current.style.visibility="visible",t.current.style.opacity="1"))}),[N]);var K=function(t){"over"===t?(e.current.style.border="2px solid #02B875",e.current.style.background="linear-gradient(315deg, #08a1c4 0%, #08cfbe 40%, #02b875 100%)",e.current.style.color="white"):"leave"===t&&(e.current.style.border="2px dashed #08a1c4",e.current.style.background="",e.current.style.color="")};return Object(s.jsxs)("section",{ref:r,className:"home",children:[Object(s.jsx)("p",{className:"error-msg",children:f}),Object(s.jsxs)("form",{className:"file-form",onSubmit:function(e){if(e.preventDefault(),t.current.style.opacity="0",N){var a=new FormData;a.append("file",N),window.setTimeout((function(){U(!0)}),500),h.a.post("".concat(O,"/api/file/"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){g(""),t.current.style.visibility="hidden",h.a.get("".concat(O,"/api/file/").concat(e.data._id)).then((function(e){$(!0),B(e.data)})).catch((function(e){console.log(e)}))})).catch((function(e){if(e.response){"Error: MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://docs.atlas.mongodb.com/security-whitelist/"===e.response.data?g("Please connect to the internet and retry."):"File too large"===e.response.data?g("File is too large. Please choose a file of size < 1 MB."):g(e.response.data)}else g("Please connect to the internet and try again.")}))}else g("Please Select a File.")},children:[Object(s.jsxs)("section",{className:"file-upload",children:[Object(s.jsx)(b.a,{onDrop:function(e){var t=Object(d.a)(e,1)[0];w(t),$(!1);var a=new FileReader;a.onload=function(){T(a.result)},a.readAsDataURL(t),F(t.name.match(/\.(jpeg|jpg|png|webp|gif|svg)$/))},className:"drop-file",onDragEnter:function(){return K("over")},onDragLeave:function(){return K("leave")},children:function(t){var a=t.getRootProps,n=t.getInputProps;return Object(s.jsxs)("div",Object(j.a)(Object(j.a)({},a({className:"drop-zone"})),{},{ref:e,children:[Object(s.jsx)("input",Object(j.a)({},n())),Object(s.jsxs)("p",{children:["Drag and Drop a File ",Object(s.jsx)("br",{}),"or ",Object(s.jsx)("br",{}),"Click Here to Select a File"]}),N.name?Object(s.jsxs)("div",{className:"file-name",children:[Object(s.jsx)("strong",{style:{fontWeight:"700"},children:"Selected file:"})," ",N.name]}):""]}))}}),Object(s.jsx)("div",{className:"image-preview-message",children:P?D?Object(s.jsx)("div",{className:"image-preview",children:Object(s.jsx)("img",{ref:c,className:"preview-image",src:P,alt:"Preview"})}):Object(s.jsx)("div",{className:"preview-message",children:Object(s.jsx)("p",{children:"No preview available for this file"})}):Object(s.jsx)("div",{className:"preview-message",children:Object(s.jsx)("p",{children:"Image preview will be shown here after selection"})})}),M>0?Object(s.jsx)("div",{className:"progress",children:Object(s.jsx)("div",{className:"determinate",style:{width:"".concat(M,"%")}})}):""]}),N.name&&!Y?Object(s.jsxs)("button",{ref:t,className:"submit-btn",type:"submit",children:[Object(s.jsx)("span",{}),"Submit",Object(s.jsx)("img",{className:"submit-icon",src:p,alt:"logo"}),Object(s.jsx)("span",{})]}):""]}),Y?Object(s.jsxs)("div",{className:"final-links",ref:a,children:[Object(s.jsxs)("button",{className:"link",onClick:function(){return m()(Uint8Array.from(E.data.Body.data).buffer,E.file.file_name,E.file.file_mimetype)},children:["Download File",Object(s.jsx)("i",{className:"material-icons",children:"file_download"})]}),Object(s.jsxs)("button",{className:"share-link link",onClick:function(e){i.current.style.background="linear-gradient(315deg, #08a1c4 0%, #08cfbe 40%, rgb(2, 184, 117, 0.9) 100%)",i.current.style.color="white",window.setTimeout((function(){i.current.style.background="",i.current.style.color=""}),200),navigator.clipboard.writeText("".concat(x||O,"/download/").concat(E.file._id));var t=document.querySelector("button.share-link .tooltiptext");t.style.visibility="visible",t.style.opacity="1",window.setTimeout((function(){t.style.visibility="hidden",t.style.opacity="0"}),5e3)},ref:i,"aria-label":"Click to copy link",children:[Object(s.jsx)("span",{})," Share File",Object(s.jsx)("i",{className:"material-icons",children:"share"}),Object(s.jsx)("span",{className:"tooltiptext",children:"Link Copied!"})]})]}):""]})},y=(a(58),"https://rajat-easyshare.herokuapp.com"),v="";var N=function(e){return Object(n.useEffect)((function(){var t=e.match.params.id;h.a.get("".concat(y,"/api/file/").concat(t)).then((function(e){var t=e.data;m()(Uint8Array.from(t.data.Body.data).buffer,t.file.file_name,t.file.file_mimetype)})).then((function(){return window.setTimeout((function(){window.location.replace(v||y)}),1e3)})).catch((function(e){e.message?(alert("No such file is available in the server!"),window.location.replace(y)):console.log(JSON.stringify(e))}))}),[]),Object(s.jsx)("p",{className:"prompt",children:"Downloading the file..."})},w=(a(59),function(){return Object(s.jsxs)("nav",{className:"navbar",children:[Object(s.jsx)("div",{className:"nav-brand",children:Object(s.jsxs)(l.b,{to:"/",children:["EasyShare",Object(s.jsx)("img",{className:"logo",src:p,alt:"Logo"})]})}),Object(s.jsx)("ul",{className:"nav-ul",children:Object(s.jsx)("li",{className:"nav-li",children:Object(s.jsx)(l.b,{className:"about",to:"/about",children:"About"})})})]})}),k=(a(63),function(){return Object(s.jsxs)("footer",{children:[Object(s.jsxs)("div",{className:"name",children:[Object(s.jsx)("span",{style:{fontWeight:"500"},children:"Built By"})," Rajat"]}),Object(s.jsxs)("div",{className:"icons",children:[Object(s.jsx)("a",{href:"https://dev.to/rajatm544",target:"_blank",rel:"noreferrer noopener","aria-label":"Link to Dev.to Profile",title:"Dev.to",children:Object(s.jsx)("i",{className:"lni lni-dev"})}),Object(s.jsx)("a",{href:"https://github.com/Rajatm544",target:"_blank",rel:"noreferrer noopener","aria-label":"Link to Github Profile",title:"Github",children:Object(s.jsx)("i",{className:"lni lni-github-original"})}),Object(s.jsx)("a",{href:"https://www.linkedin.com/in/rajat--m/",target:"_blank",rel:"noreferrer noopener","aria-label":"Link to Linkedin Profile",title:"LinkedIn",children:Object(s.jsx)("i",{className:"lni lni-linkedin-original"})}),Object(s.jsx)("a",{href:"https://medium.com/@rajat_m",target:"_blank",rel:"noreferrer noopener","aria-label":"Link to Medium Profile",title:"Medium",children:Object(s.jsx)("i",{className:"lni lni-medium"})}),Object(s.jsx)("a",{href:"https://twitter.com/Rajat__m",target:"_blank",rel:"noreferrer noopener","aria-label":"Link to Twitter Profile",title:"Twitter",children:Object(s.jsx)("i",{className:"lni lni-twitter-original"})})]})]})}),S=a.p+"static/media/error-404.4d6742fd.svg",P=(a(64),function(){return Object(s.jsxs)("div",{className:"error-page",children:[Object(s.jsx)("img",{className:"err-404",src:S,alt:"404"}),Object(s.jsxs)("div",{className:"error-text",children:[Object(s.jsx)("p",{className:"not-found",children:"Page Not Found."}),Object(s.jsx)("p",{className:"not-found",children:"Looks Like You've Landed on The Wrong Page!"}),Object(s.jsxs)("p",{className:"not-found",children:["Click",Object(s.jsxs)(l.b,{className:"link-home",to:"/",children:[" ","Here"," "]}),"to Go to The Home Page."]})]})]})}),T=(a(65),function(){return Object(s.jsxs)("div",{className:"about",children:[Object(s.jsxs)("h1",{className:"about-heading",children:["About EasyShare.",Object(s.jsx)("hr",{className:"about-hr"})]}),Object(s.jsxs)("section",{className:"main-text",children:[Object(s.jsxs)("div",{className:"about-text",children:[Object(s.jsx)("p",{className:"about-p",children:"This is an application to help share files with ease."}),Object(s.jsx)("p",{className:"about-p",children:"Just drag and drop any file or choose any file from your system. Once the file is uploaded, you can either download the file from that page or you can also get a link to share the file."}),Object(s.jsxs)("p",{className:"about-p",children:["The supported file formats are:"," ",Object(s.jsx)("span",{className:"file-type",children:"png"}),","," ",Object(s.jsx)("span",{className:"file-type",children:"jpg"}),","," ",Object(s.jsx)("span",{className:"file-type",children:"jpeg"}),","," ",Object(s.jsx)("span",{className:"file-type",children:"webp"}),","," ",Object(s.jsx)("span",{className:"file-type",children:"svg"}),","," ",Object(s.jsx)("span",{className:"file-type",children:"gif"}),","," ",Object(s.jsx)("span",{className:"file-type",children:"doc"}),","," ",Object(s.jsx)("span",{className:"file-type",children:"docx"}),","," ",Object(s.jsx)("span",{className:"file-type",children:"pdf"}),","," ",Object(s.jsx)("span",{className:"file-type",children:"ppt"}),","," ",Object(s.jsx)("span",{className:"file-type",children:"pptx"}),","," ",Object(s.jsx)("span",{className:"file-type",children:"xls"}),","," ",Object(s.jsx)("span",{className:"file-type",children:"xlsx"}),". The shareable link is valid for 15 days, after which you will have to re-upload the required file."]}),Object(s.jsxs)("p",{className:"about-p",children:["In case of any issues with the app, contact the developer using the links in the footer or by dropping a mail to"," ",Object(s.jsx)("a",{href:"mailto:rajatm544@gmail.com",target:"_blank",rel:"noreferrer noopener",children:Object(s.jsx)("span",{className:"file-type",children:"this email-id"})})]})]}),Object(s.jsx)("i",{className:"lni lni-question-circle"})]})]})}),L=(a(66),function(){return Object(s.jsxs)("div",{className:"app",children:[Object(s.jsxs)(l.a,{children:[Object(s.jsx)(w,{}),Object(s.jsxs)(o.c,{children:[Object(s.jsx)(o.a,{path:"/",exact:!0,component:g}),Object(s.jsx)(o.a,{path:"/download/:id",exact:!0,component:N}),Object(s.jsx)(o.a,{path:"/about",exact:!0,component:T}),Object(s.jsx)(o.a,{component:P})]})]}),Object(s.jsx)(k,{})]})}),_=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,68)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),c(e),i(e)}))};window.setTimeout((function(){r.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(L,{})}),document.getElementById("root"))}),1500),_()}},[[67,1,2]]]);
//# sourceMappingURL=main.a4b6456a.chunk.js.map